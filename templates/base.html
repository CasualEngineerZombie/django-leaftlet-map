<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Django HTMX Leaflet Map</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- HTMX library -->
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
</head>
<body class="bg-gray-100 text-gray-900">
  <div class="container mx-auto p-4">
    {% block content %}{% endblock %}
  </div>
  <script>
    // When HTMX swaps in new content, check if the homepage map container exists.
    document.body.addEventListener('htmx:afterSwap', function(evt) {
      if (document.getElementById('all-users-map') && typeof initializeAllUsersMap === 'function') {
        initializeAllUsersMap();
      }
    });
  </script>
</body>
</html>
